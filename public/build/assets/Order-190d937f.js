import{r as a,j as e,d as ee}from"./app-623ed0f4.js";import{a as j}from"./axios-28bc18a3.js";import{a as te,d as ae}from"./Delete-420f6154.js";import{d as se}from"./Update-0995898d.js";import{d as re}from"./Search-e82382e7.js";import{H as ne}from"./Homepage-08511e85.js";import{T as r,M as T,B as P,a as m,P as oe}from"./Box-957a2bf3.js";import{T as v,F as y,I as le,S as ie}from"./TextField-5a304923.js";import{M}from"./MenuItem-d02030d1.js";import{T as de,a as ce,b as he,c as D,d as me}from"./TableRow-d2f5aa9a.js";import{T as s}from"./TableCell-3fbb70b1.js";import{I as E}from"./IconButton-3addbdd0.js";import{T as ue}from"./TablePagination-9505c5d0.js";import"./listItemTextClasses-8727f840.js";const Pe=({receiveorders:R})=>{const[k,A]=a.useState([]),[w,B]=a.useState([]),[O,_]=a.useState(!1),[F,b]=a.useState(!1),[n,o]=a.useState({recieve_raw_no:"",warehouse_id:"",weight_recieve_total:"",amount_recieve_total:"",note:"",status:""}),[d,u]=a.useState(null),[L,C]=a.useState(null),[x,$]=a.useState(""),[c,I]=a.useState(0),[l,N]=a.useState(5),H=window.location.href,W=(t,i)=>{I(i)},z=t=>{N(parseInt(t.target.value,10)),I(0)};a.useEffect(()=>{const t=R.filter(i=>i.name.toLowerCase().includes(x.toLowerCase()));B(t)},[k,x]);const h=async()=>{try{const t=await ee.Inertia.visit(H,{method:"get",data:{},replace:!1,preserveState:!1,preserveScroll:!1});A(t)}catch(t){console.error("Error fetching items:",t)}};a.useEffect(()=>{},[]);const U=async()=>{try{await j.post("/order",n),p(),o({order_raw_no:"",date:"",weight_recieve_total:"",amount_recieve_total:"",note:"",status:""}),h()}catch(t){console.error("Error adding item:",t)}},Y=t=>{C(t),V()},q=()=>{try{j.delete(`/order/${L}`).then(()=>{f()}),h()}catch(t){console.error("Error deleting item:",t)}},G=t=>{u(t.id),o({recieve_raw_no:t.recieve_raw_no,warehouse_id:t.warehouse_id,weight_recieve_total:t.weight_recieve_total,amount_recieve_total:t.amount_recieve_total,note:t.note,status:t.status}),Q()},J=async()=>{try{await j.put(`/order/${d}`,n),p(),o({recieve_raw_no:"",warehouse_id:"",weight_recieve_total:"",amount_recieve_total:"",note:"",status:""}),u(null),h()}catch(t){console.error("Error updating item:",t)}},K=()=>{d?(J(),h()):U()},S=()=>{p()},Q=()=>{_(!0)},p=()=>{_(!1),o({recieve_raw_no:"",warehouse_id:"",weight_recieve_total:"",amount_recieve_total:"",note:"",status:""}),u(null)},V=()=>{b(!0)},f=()=>{b(!1),C(null)},g=t=>{o({...n,[t.target.name]:t.target.value})},X=t=>{$(t.target.value)};return e.jsxs(ne,{children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsx(r,{variant:"h4",children:"Receive Order"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},children:[e.jsx(r,{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"h4",children:e.jsx(re,{})}),e.jsx(v,{label:"Search..",variant:"outlined",value:x,onChange:X,style:{width:"150px"},size:"small"})]})]}),e.jsx(T,{open:O,onClose:S,"aria-labelledby":"add-item-modal","aria-describedby":"form-for-adding-or-editing-item",children:e.jsxs(P,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:540,bgcolor:"background.paper",boxShadow:24,p:4},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:d?"Edit Material":"Add Material"}),e.jsx(y,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Code"}),e.jsx(v,{label:"Code",variant:"outlined",name:"code",value:n.code,onChange:g,sx:{width:"300px"}})]})}),e.jsx(y,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Name"}),e.jsx(v,{label:"Name",variant:"outlined",name:"name",value:n.name,onChange:g,sx:{width:"300px"}})]})}),e.jsx(y,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Status"}),e.jsx(le,{id:"status-label"}),e.jsxs(ie,{labelId:"status-label",id:"status",name:"status",value:n.status,onChange:g,sx:{width:"300px"},children:[e.jsx(M,{value:"1",children:"Active"}),e.jsx(M,{value:"0",children:"Inactive"})]})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(m,{variant:"contained",color:"primary",onClick:K,children:d?e.jsx(se,{}):"Save"}),e.jsx(m,{variant:"contained",color:"secondary",onClick:S,style:{marginLeft:"10px"},children:"Cancel"})]})]})}),e.jsx(T,{open:F,onClose:f,"aria-labelledby":"delete-confirmation-modal","aria-describedby":"confirmation-dialog-for-deleting-item",children:e.jsxs(P,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:370,bgcolor:"background.paper",boxShadow:24,p:4,textAlign:"center"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Are you sure you want to delete this item?"}),e.jsx(m,{variant:"contained",color:"primary",onClick:q,children:"Yes"}),e.jsx(m,{variant:"contained",color:"secondary",onClick:f,style:{marginLeft:"10px"},children:"Cancel"})]})}),e.jsxs("div",{children:[e.jsx(de,{component:oe,style:{marginTop:"20px"},children:e.jsxs(ce,{children:[e.jsx(he,{children:e.jsxs(D,{children:[e.jsx(s,{children:"No."}),e.jsx(s,{children:"Code"}),e.jsx(s,{children:"Name"}),e.jsx(s,{children:"Status"}),e.jsx(s,{children:"Setting"})]})}),e.jsx(me,{children:w.slice(c*l,c*l+l).map((t,i)=>{const Z=c*l+i+1;return e.jsxs(D,{children:[e.jsx(s,{children:Z}),e.jsx(s,{children:t.code}),e.jsx(s,{children:t.name}),e.jsx(s,{children:t.status=="1"?"Active":t.status=="0"?"Inactive":""}),e.jsxs(s,{children:[e.jsx(E,{color:"secondary",onClick:()=>Y(t.id),children:e.jsx(te,{})}),e.jsx(E,{color:"primary",onClick:()=>G(t),children:e.jsx(ae,{})})]})]},t.id)})})]})}),e.jsx(ue,{rowsPerPageOptions:[5,10,25],component:"div",count:w.length,rowsPerPage:l,page:c,onPageChange:W,onRowsPerPageChange:z})]})]})};export{Pe as default};
