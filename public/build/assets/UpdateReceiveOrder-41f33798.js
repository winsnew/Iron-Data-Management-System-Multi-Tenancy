import{r as a,j as e,d as de}from"./app-623ed0f4.js";import{a as v}from"./axios-28bc18a3.js";import{a as ce,d as xe}from"./Delete-420f6154.js";import{d as z}from"./Update-0995898d.js";import{d as he}from"./Search-e82382e7.js";import{H as pe}from"./Homepage-08511e85.js";import{T as r,a as l,M as O,B as W,P as me}from"./Box-957a2bf3.js";import{T as i,I as k,S as M,F as d}from"./TextField-5a304923.js";import{M as b}from"./MenuItem-d02030d1.js";import{T as ye,a as ue,b as je,c as N,d as ge}from"./TableRow-d2f5aa9a.js";import{T as s}from"./TableCell-3fbb70b1.js";import{I as q}from"./IconButton-3addbdd0.js";import{T as fe}from"./TablePagination-9505c5d0.js";import"./listItemTextClasses-8727f840.js";const Me=({updatereceiveorders:E,warehouses:w})=>{const[A,B]=a.useState([]),[_,F]=a.useState([]),[L,C]=a.useState(!1),[$,I]=a.useState(!1),[n,c]=a.useState({pc_recieve_raw_id:"",pc_order_raw_detail_id:"",reff_po:"",code:"",size:"",weight:"",price:"",delivery_cost:"",qty_rcv:""}),[x,u]=a.useState(null),[Q,T]=a.useState(null),[j,U]=a.useState(""),[ve,H]=a.useState([]),[Y,G]=a.useState(""),[m,S]=a.useState(0),[h,J]=a.useState(5),K=window.location.href,V=(t,p)=>{S(p)},X=t=>{J(parseInt(t.target.value,10)),S(0)};a.useEffect(()=>{const t=E.filter(p=>p.name.toLowerCase().includes(j.toLowerCase()));F(t)},[A,j]);const y=async()=>{try{const t=await de.Inertia.visit(K,{method:"get",data:{},replace:!1,preserveState:!1,preserveScroll:!1});B(t)}catch(t){console.error("Error fetching items:",t)}};a.useEffect(()=>{Z()},[]);const Z=async()=>{try{H(w)}catch(t){console.error("Error fetching Warehouse Option:",t)}},ee=async()=>{try{await v.post("/receive-order",n),g(),c({pc_recieve_raw_id:"",pc_order_raw_detail_id:"",reff_po:"",code:"",size:"",weight:"",price:"",delivery_cost:"",qty_rcv:""}),y()}catch(t){console.error("Error adding item:",t)}},te=t=>{T(t),ie()},re=()=>{try{v.delete(`/receive-order/${Q}`).then(()=>{f()}),y()}catch(t){console.error("Error deleting item:",t)}},se=t=>{u(t.id),c({pc_recieve_raw_id:t.pc_recieve_raw_id,pc_order_raw_detail_id:t.pc_order_raw_detail_id,reff_po:t.reff_po,code:t.code,size:t.size,weight:t.weight,price:t.price,delivery_cost:t.delivery_cost,qty_rcv:t.qty_rcv}),D()},ae=async()=>{try{await v.put(`/receive-order/${x}`,n),g(),c({pc_recieve_raw_id:"",pc_order_raw_detail_id:"",reff_po:"",code:"",size:"",weight:"",price:"",delivery_cost:"",qty_rcv:""}),u(null),y()}catch(t){console.error("Error updating item:",t)}},P=()=>{x?(ae(),y()):ee()},R=()=>{g()},D=()=>{C(!0)},g=()=>{C(!1),c({pc_recieve_raw_id:"",pc_order_raw_detail_id:"",reff_po:"",code:"",size:"",weight:"",price:"",delivery_cost:"",qty_rcv:""}),u(null)},ie=()=>{I(!0)},f=()=>{I(!1),T(null)},o=t=>{c({...n,[t.target.name]:t.target.value})},ne=t=>{U(t.target.value)},le=t=>{G(t.target.value)};return e.jsxs(pe,{children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsx(r,{variant:"h4",children:"Update Receive Order"})}),e.jsx("hr",{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"h7",style:{marginRight:"40px"},children:"Trx No."}),e.jsx(i,{label:"",variant:"outlined",style:{width:"350px"},size:"small",disabled:!0})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"h7",style:{marginRight:"25px"},children:"Date"}),e.jsx(i,{label:"",variant:"outlined",style:{width:"350px"},size:"small",disabled:!0})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"0%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",marginTop:"1%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(r,{variant:"h7",style:{marginRight:"56px"},children:"Type"}),e.jsx(i,{label:"",variant:"outlined",style:{width:"350px"},size:"small",disabled:!0})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",marginTop:"10px"},children:[e.jsx(r,{variant:"h7",style:{marginRight:"32px"},children:"Supplier"}),e.jsx(i,{label:"",variant:"outlined",style:{width:"350px"},size:"small",disabled:!0})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"5px",flexDirection:"row"},children:[e.jsx(r,{variant:"h7",style:{marginRight:"25px",marginBottom:"14%"},children:"Note"}),e.jsx(i,{label:"",variant:"outlined",multiline:!0,style:{width:"350px"},size:"small",rows:3})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"10px"},children:[e.jsx(r,{variant:"h7",style:{marginRight:"10px"},children:"Warehouse"}),e.jsx(k,{id:"warehouse-label"}),e.jsx(M,{labelId:"warehouse-label",id:"warehouse-select",value:Y,onChange:le,style:{width:"350px"},size:"small",children:w.map(t=>e.jsx(b,{value:t.id,children:t.name},t.id))})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"20px"},children:[e.jsx(r,{variant:"h4",children:"Item"}),e.jsx(l,{variant:"contained",color:"primary",onClick:D,children:"Add Item"})]}),e.jsx("hr",{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},children:[e.jsx(r,{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"h4",children:e.jsx(he,{})}),e.jsx(i,{label:"Search..",variant:"outlined",value:j,onChange:ne,style:{width:"150px"},size:"small"})]})]}),e.jsx(O,{open:L,onClose:R,"aria-labelledby":"add-item-modal","aria-describedby":"form-for-adding-or-editing-item",children:e.jsxs(W,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:540,bgcolor:"background.paper",boxShadow:24,p:4},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:x?"Update Item":"Add Item"}),e.jsx(d,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Item Name"}),e.jsx(k,{id:"itemName-label"}),e.jsxs(M,{labelId:"itemName-label",id:"itemName",name:"itemName",value:n.name,onChange:o,sx:{width:"300px"},children:[e.jsx(b,{value:"",children:"Nama 1"}),e.jsx(b,{value:"",children:"Nama 2"})]})]})}),e.jsx(d,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Dimention"}),e.jsx(i,{label:"",variant:"outlined",name:"size",value:n.size,onChange:o,sx:{width:"300px",backgroundColor:"gray"},InputProps:{readOnly:!0,style:{}},disabled:!0})]})}),e.jsx(d,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Weight"}),e.jsx(i,{label:"",variant:"outlined",name:"weight",value:n.weight,onChange:o,sx:{width:"300px",backgroundColor:"gray"},InputProps:{readOnly:!0,style:{}},disabled:!0})]})}),e.jsx(d,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Price"}),e.jsx(i,{label:"",variant:"outlined",name:"price",value:n.price,onChange:o,sx:{width:"300px"},InputProps:{style:{}}})]})}),e.jsx(d,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Order Qty"}),e.jsx(i,{label:"",variant:"outlined",name:"amount_order_total",value:n.amount_order_total,onChange:o,sx:{width:"300px",backgroundColor:"gray"},InputProps:{readOnly:!0,style:{}},disabled:!0})]})}),e.jsx(d,{fullWidth:!0,sx:{mb:2},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body1",style:{marginRight:"10px"},children:"Received Qty"}),e.jsx(i,{label:"",variant:"outlined",name:"qty_rcv",value:n.qty_rcv,onChange:o,sx:{width:"300px"},InputProps:{style:{}}})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(l,{variant:"contained",color:"primary",onClick:P,children:x?e.jsx(z,{}):"Save"}),e.jsx(l,{variant:"contained",color:"secondary",onClick:R,style:{marginLeft:"10px"},children:"Cancel"})]})]})}),e.jsx(O,{open:$,onClose:f,"aria-labelledby":"delete-confirmation-modal","aria-describedby":"confirmation-dialog-for-deleting-item",children:e.jsxs(W,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:370,bgcolor:"background.paper",boxShadow:24,p:4,textAlign:"center"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Are you sure you want to delete this item?"}),e.jsx(l,{variant:"contained",color:"primary",onClick:re,children:"Yes"}),e.jsx(l,{variant:"contained",color:"secondary",onClick:f,style:{marginLeft:"10px"},children:"Cancel"})]})}),e.jsxs("div",{children:[e.jsx(ye,{component:me,style:{marginTop:"20px"},children:e.jsxs(ue,{children:[e.jsx(je,{children:e.jsxs(N,{children:[e.jsx(s,{children:"No."}),e.jsx(s,{children:"Code"}),e.jsx(s,{children:"Material Name"}),e.jsx(s,{children:"Dimention Weight"}),e.jsx(s,{children:"Price"}),e.jsx(s,{children:"Order Qty"}),e.jsx(s,{children:"Receive Qty"}),e.jsx(s,{children:"Setting"})]})}),e.jsx(ge,{children:_.slice(m*h,m*h+h).map((t,p)=>{const oe=m*h+p+1;return e.jsxs(N,{children:[e.jsx(s,{children:oe}),e.jsx(s,{children:t.code}),e.jsx(s,{children:t.code.name}),e.jsx(s,{children:t.size}),e.jsx(s,{children:t.weight}),e.jsx(s,{children:t.price}),e.jsx(s,{children:t.pc_order_raw_detail_id.qty}),e.jsx(s,{children:t.qty_rcv}),e.jsx(s,{children:t.status=="1"?"Active":t.status=="0"?"Inactive":""}),e.jsxs(s,{children:[e.jsx(q,{color:"secondary",onClick:()=>te(t.id),children:e.jsx(ce,{})}),e.jsx(q,{color:"primary",onClick:()=>se(t),children:e.jsx(xe,{})})]})]},t.id)})})]})}),e.jsx("hr",{}),e.jsx(fe,{rowsPerPageOptions:[5,10,25],component:"div",count:_.length,rowsPerPage:h,page:m,onPageChange:V,onRowsPerPageChange:X}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(l,{variant:"contained",color:"secondary",href:"/receive-order",style:{marginRight:"50px",padding:"5px 30px"},children:"Close"}),e.jsx(l,{variant:"contained",color:"primary",onClick:P,style:{padding:"5px 30px"},children:x?e.jsx(z,{}):"Save"})]})]})]})};export{Me as default};
