import{R as it,j as e,r as i,I as Xe,d as z}from"./app-623ed0f4.js";import{a as Ce}from"./axios-28bc18a3.js";import{a as et,d as tt}from"./Delete-420f6154.js";import{T as Ht,H as Vt,G as c}from"./Homepage-08511e85.js";import{N as ot}from"./react-number-format.es-faa60658.js";import{u as Yt,c as Gt,M as oe,B as ce,T as g,a as b,P as Se}from"./Box-957a2bf3.js";import{u as V}from"./useMediaQuery-3b20bec3.js";import{S as Kt}from"./Snackbar-339c9b43.js";import{M as Jt}from"./Alert-010238a0.js";import{T as Ie,a as rt,b as st,c as D,d as at}from"./TableRow-d2f5aa9a.js";import{T as S,F as q}from"./TextField-5a304923.js";import{T as a}from"./TableCell-3fbb70b1.js";import{C as nt}from"./Checkbox-774633df.js";import{T as Xt}from"./TableFooter-86dd9d60.js";import{T as lt}from"./TablePagination-9505c5d0.js";import{I as de}from"./IconButton-3addbdd0.js";import"./listItemTextClasses-8727f840.js";import"./MenuItem-d02030d1.js";it.forwardRef(function(E,Y){const{onChange:G,...K}=E;return e.jsx(ot,{...K,getInputRef:Y,onValueChange:W=>{G({target:{name:E.name,value:W.value}})},thousandSeparator:!0,valueIsNumericString:!0,prefix:"Rp "})});it.forwardRef(function(E,Y){const{onChange:G,...K}=E;return e.jsx(ot,{...K,getInputRef:Y,onValueChange:W=>{G({target:{name:E.name,value:W.value}})},thousandSeparator:!0,valueIsNumericString:!0,prefix:""})});const Cr=({returnorderdetails:I,data:E,receive:Y,orderRaw:G,order:K,supplier:W,material:er,rawProduct:tr,return_id:d,dataNew:w})=>{i.useState([]);const[ct,Re]=i.useState([]),[dt,J]=i.useState(!1),[ut,Te]=i.useState(!1),[ht,X]=i.useState(!1),[m,y]=i.useState({pc_return_raw_id:"",pc_recieve_raw_detail_id:"",supplier_id:"",reff_rcv:"",code:"",material:"",size:"",weight:"",price:"",qty_rtn:""}),[u,O]=i.useState({id:"",pc_return_raw_id:"",pc_recieve_raw_detail_id:"",supplier_id:"",reff_rcv:"",code:"",material:"",size:"",weight:"",price:"",qty_rtn:"",status:""}),[rr,ue]=i.useState(null),[L,ke]=i.useState(null),[ze,De]=i.useState(null),[U,ft]=i.useState(""),[B,ee]=i.useState([]),[pt,xt]=i.useState(0),[A,qe]=i.useState(d?d.note:""),[N,te]=i.useState([]),[R,re]=i.useState(),[he,Pe]=i.useState(""),[fe,Ee]=i.useState(),[pe,xe]=i.useState(),[ge,je]=i.useState(),[Ae,Me]=i.useState(d?d.id:0),[Fe,sr]=i.useState(0),[M,Qe]=i.useState(0),[ye,We]=i.useState(0),[k,gt]=i.useState(5),[se,jt]=i.useState(5),[h,me]=i.useState([]);h&&Object.values(h);const ae="deleted",yt="modified",[ar,mt]=i.useState([]),[vt,f]=i.useState(!1),[_t,p]=i.useState(""),[bt,x]=i.useState("success"),[wt,Oe]=i.useState(!1),Be=()=>{Oe(!1)},Ct=()=>{Oe(!0)},Z=Yt(),St=(t,r)=>{Qe(r)},It=(t,r)=>{We(r)},Rt=t=>{gt(parseInt(t.target.value,10)),Qe(0)},Tt=t=>{jt(parseInt(t.target.value,10)),We(0)};i.useEffect(()=>{const t=I.filter(r=>r.name&&r.name.toLowerCase().includes(U.toLowerCase()));Re(t)},[I,U]),i.useEffect(()=>{const t=I.slice(0,Fe);Re(t)},[I,U,Fe]),i.useEffect(()=>{(()=>{let r=0;h&&h.length>0&&(r=h.reduce((s,n)=>s+parseFloat(n.weight),0)),d&&u.length>0&&(r=u.filter(s=>s.status!==ae).reduce((s,n)=>s+parseFloat(n.weight),0)),xt(r)})()},[ct,h,u,d]),i.useEffect(()=>{if(d&&d.note!==void 0&&d.note!==null&&A===""){A===""&&(x("warning"),p("Jika tidak segera diisi note akan kembali seperti semula dalam 15 detik"),f(!0));const t=setTimeout(()=>{qe(d.note)},15e3);return()=>clearTimeout(t)}},[d,A]),i.useEffect(()=>{},[fe,he]),i.useEffect(()=>{if(d){const t=I.map(r=>({id:r.id,pc_return_raw_id:r.pc_return_raw_id,pc_recieve_raw_detail_id:r.pc_recieve_raw_detail_id,supplier_id:r.supplier_id,reff_rcv:r.reff_rcv,code:r.code,material:r.material,size:r.size,weight:r.weight,price:r.price,qty_rtn:r.qty_rtn,status:""}));O(t)}},[]);const kt=t=>{ke(t.id),xe(t.code),je(t.reff_rcv),Ue()},zt=t=>{xe(t.code),je(t.reff_rcv),Ue()},Dt=()=>{var t,r;try{let s=[...h];if(s=h.filter(n=>n.id!==L),d){let n=[...u];n=u.filter(o=>o.id!==L)}if(d)d&&(updateDataDatabase=u.filter(n=>n.code!==pe||n.reff_rcv!=ge));else{s=h.filter(o=>o.code!==pe||o.reff_rcv!=ge);const n=h.filter(o=>o.code===pe&&o.reff_rcv===ge)}me(s),d&&O(updateDataDatabase),x("success"),p("Item removed successfully"),f(!0),X(!1)}catch(s){console.error("Error removing item:",s);const n=((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.error)||"Error removing item";x("error"),p(n),f(!0)}},qt=async()=>{var t,r;try{let s=[...u];if(d){s=u.map(o=>o.id===L?{...o,status:ae}:o);const n=u.filter(o=>o.id===L)}O(s),console.log("data database: ",u),z.Inertia.reload(),x("success"),p("Item removed successfully"),f(!0),X(!1)}catch(s){console.error("Error removing item:",s);const n=((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.error)||"Error removing item";x("error"),p(n),f(!0)}},Ne=t=>{d&&t.id&&(De(t.id),ue(t.id)),Pe(t.code),re(t.qty_rtn),Ee(t.reff_rcv),y({pc_return_raw_id:t.pc_return_detail_id,pc_recieve_raw_detail_id:t.pc_recieve_raw_detail_id,supplier_id:t.supplier_id,reff_rcv:t.reff_rcv,code:t.code,material:t.material,size:t.size,weight:H(t.weight)+" kg",price:F(t.price),qty_rtn:t.qty_rtn}),Wt()},Pt=async()=>{var t,r;try{let s=[];ze?s=I.find(o=>o.id===ze):s=u.find(o=>o.code===he||o.reff_rcv===fe);const n=w.find(o=>o.id===s.pc_recieve_raw_detail_id);if(n&&n.qty_rcv!==void 0){const v=n.qty_rcv;!isNaN(R)&&!isNaN(v)&&parseFloat(R)>parseFloat(v)?(x("error"),p("Quantity Return cannot be greater than Quantity Receive: "+v),f(!0)):parseFloat(R)===0?(x("error"),p("Quantity Return cannot be zero"),f(!0)):parseFloat(R)==s.qty_rtn?(x("error"),p("Quantity Return cannot be equal to Quantity Receive: "+s.qty_rtn),f(!0)):(O(T=>T.map(P=>P.id===s.id?P.status!=="created"?{...P,qty_rtn:R,status:yt}:{...P,qty_rtn:R}:P)),ve(),_e(),y({pc_return_raw_id:"",pc_recieve_raw_detail_id:"",supplier_id:"",reff_rcv:"",code:"",material:"",size:"",weight:"",price:"",qty_rtn:""}),z.Inertia.reload(),x("success"),p("Edit quantity return successfully: "+R),f(!0),re())}else console.error("Error: selectedItem or qty_rcv is undefined")}catch(s){console.error("Error edit item:",s);const n=((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.data)||"Error editing item";x("error"),p(n),f(!0),u.length===I.length&&z.Inertia.reload()}},Et=(t,r)=>{let s=0;const n=w.find(o=>o.code===he||o.reff_rcv===fe);if(n&&n.qty_rcv!==void 0)if(s=n.qty_rcv,parseFloat(R)>parseFloat(s)){x("error"),p("Quantity Return cannot be greater than Quantity Receive: "+s),f(!0);return}else d&&O(v=>v.map(_=>_.id===n.id?{..._,qty_rtn:R}:_)),me(v=>v.map(_=>_.code===t&&_.reff_rcv===r?{..._,qty_rtn:R}:_)),ve(),re(),y({pc_return_raw_id:"",pc_recieve_raw_detail_id:"",supplier_id:"",reff_rcv:"",code:"",material:"",size:"",weight:"",price:"",qty_rtn:""});else console.error("Error: selectedItem or qty_rcv is undefined")},At=async()=>{var t,r;try{E=await Ce.post("/save-return-order-raw",{dataTemp:h,note:A}),x("success"),p("Saved successfully"),f(!0),z.Inertia.visit("/return-order")}catch(s){console.error("Error saving item:",s);const n=((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.data)||"Error saving item";x("error"),p(n),f(!0),z.Inertia.reload()}},Mt=async()=>{var t,r;try{const s=await Ce.put(`/update-return-order-raw/${Ae}`,{dataDatabase:u,note:A});x("success"),p("Update saved successfully"),f(!0),Me(0),z.Inertia.visit("/return-order")}catch(s){console.error("Error saving item:",s);const n=((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.data)||"Error update saving item";x("error"),p(n),f(!0),z.Inertia.reload()}},Ft=t=>{var r,s;try{const n=[...B];let o=!1,v="",T="",_=0,P=!1;t!==void 0&&!n.includes(t)&&n.push(t);let ie=[],nr=[];const C=w.filter(l=>n.includes(l.id)).map(l=>N[l.id]!=null&&N[l.id]!==0&&!isNaN(N[l.id])&&N[l.id]!==""?{pc_return_raw_id:l.pc_return_detail_id,pc_recieve_raw_detail_id:l.id,supplier_id:l.supplier_id,reff_rcv:l.recieve_raw_no,code:l.code,material:l.material,size:l.size,weight:l.weight,price:l.price,qty_rtn:N[l.id],status:"created"}:(console.warn(`Data skipped for item with id ${l.id} because quantity return is null or empty.`),ie.push(l.material),v=`Data skipped for item with name ${ie.join(", ")} because quantity return is null or empty.`,o=!0,null)).filter(l=>l!==null);let Ge=h.filter(l=>!n.includes(l.raw_reff_rcv)),be=[];d&&(be=u.filter(l=>!n.includes(l.code)||!n.includes(l.reff_rcv)));let we=!1,$=[];d?u.length>0&&C.length>0&&(be=u.filter(l=>C.every(j=>j.reff_rcv!==l.reff_rcv||j.code!==l.code&&I.filter(Q=>Q.code!==l.code||Q.reff_rcv!==l.reff_rcv).length>=0)),I.length>0?($=u.filter(l=>C.every(j=>j.reff_rcv===l.reff_rcv&&j.code===l.code&&I.filter(Q=>Q.code===l.code&&Q.reff_rcv===l.reff_rcv&&j.reff_rcv===Q.reff_rcv&&j.code===Q.code).length>=0)),console.log("selected data: ",C),console.log("data duplicate: ",$)):$=u.filter(l=>C==null?void 0:C.every(j=>j.reff_rcv===l.reff_rcv||j.code===l.code)),$.length>0&&(we=!0)):h.length>0&&(Ge=h.filter(l=>C.every(j=>j.reff_rcv!==l.reff_rcv||j.code!==l.code)),$=h.filter(l=>C.every(j=>j.reff_rcv===l.reff_rcv||j.code===l.code)),$.length>0&&(we=!0)),_>0;let Ke="",Je=!1;(C.length>1||n.length>1||P)&&(Je=!0,Ke=`Your item ${ie.join(", ")} ${ie.length>1?"have":"has"} zero quantity.`),d?O([...be,...C]):me([...Ge,...C]),ee([]),Le(),mt(n),we?(x("warning"),p("Item already exist"),f(!0),d&&h.length===0&&J(!0),te([])):n.length===0||C.length===0?(x("error"),p(Je?Ke:"No item selected"),f(!0),J(!0)):o?(x("warning"),p(`Item added successfully and ${v}`),f(!0),te([])):(x("success"),P&&p(`Item added successfully and ${_} item(s) with qty 0`),p("Item added successfully"),f(!0),te([]))}catch(n){console.error("Error adding item:",n);const o=((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Error adding item";x("error"),p(o),f(!0)}},ne=()=>{Le()},$e=()=>{Pe(""),Ee(""),ve()},Qt=()=>{J(!0)},Wt=()=>{Te(!0)},Le=()=>{J(!1),y({pc_return_raw_id:"",pc_recieve_raw_detail_id:"",supplier_id:"",reff_rcv:"",code:"",material:"",size:"",weight:"",price:"",qty_rtn:""}),ue(null)},ve=()=>{Te(!1),y({pc_return_raw_id:"",pc_recieve_raw_detail_id:"",supplier_id:"",reff_rcv:"",code:"",material:"",size:"",weight:"",price:"",qty_rtn:""}),ue(null)},Ue=()=>{X(!0)},_e=()=>{X(!1),xe(),je(),De(null),ke(null)},Ze=t=>{ft(t.target.value)},He="#00a152",Ve="#c62828",Ot=t=>{ee(r=>r.includes(t)?r.filter(s=>s!==t):[...r,t])},F=t=>"Rp "+Number(t).toFixed(0).toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),H=t=>""+Number(t).toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),Bt=()=>{let t=0;return d?t=u.length>0?u.filter(r=>r.status!==ae).reduce((r,s)=>r+parseFloat(s.qty_rtn)*parseFloat(s.price)*parseFloat(s.weight),0):0:t=h?h.reduce((r,s)=>r+parseFloat(s.qty_rtn)*parseFloat(s.price)*parseFloat(s.weight),0):0,t=F(t),t},Ye=V(Z.breakpoints.down("sm"));V(Z.breakpoints.between(680,949)),V(Z.breakpoints.between(950,1233)),V(Z.breakpoints.between(1234,1449)),V(Z.breakpoints.up(1449));const Nt=()=>{if(B.length===w.length)ee([]);else{const t=w.map(r=>r.id);ee(t)}},$t=(t,r,s)=>{const n=Math.max(-1,r.target.value);if(n<=s)te(o=>({...o,[t]:n})),y({...m,qty_rtn:n});else{const o="Quantity Return exceeds Quantity Receive: "+s;x("error"),p(o),f(!0)}},Lt=t=>{const r=t.target.value;re(r),y({...m,qty_rtn:r})},Ut=t=>{qe(t)},Zt=async()=>{var t,r;try{const s=await Ce.put(`/posting-return-order/${Ae}`,{dataDatabase:u,note:A});x("success"),p("Update saved successfully"),f(!0),Me(0),z.Inertia.visit("/return-order")}catch(s){console.error("Error saving item:",s);const n=((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.data)||"Error update saving item";x("error"),p(n),f(!0),z.Inertia.reload()}};function le(t){const s=t.split("x").map(v=>{const T=v.trim();return/^\d*\.?\d*$/.test(T)?parseFloat(T):T}),n=[" "," x "];return s.reduce((v,T,_)=>[v,T].join(n[(_-1)%n.length]))}return e.jsx(Ht,{theme:Gt(),children:e.jsxs(Vt,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(Kt,{open:vt,autoHideDuration:4e3,onClose:()=>f(!1),anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{marginBottom:"30px",marginRight:"30px"},children:e.jsx(Jt,{elevation:6,variant:"filled",severity:bt,onClose:()=>f(!1),children:_t})}),e.jsx(oe,{open:wt,onClose:Be,"aria-labelledby":"delete-confirmation-modal","aria-describedby":"confirmation-dialog-for-deleting-item",children:e.jsxs(ce,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:370,bgcolor:"background.paper",boxShadow:24,p:4,textAlign:"center",borderRadius:5},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"Are you sure you want posting?"}),e.jsx(b,{variant:"contained",color:"success",onClick:Zt,children:"Yes"}),e.jsx(b,{variant:"contained",color:"error",onClick:Be,sx:{ml:"10px"},children:"Cancel"})]})}),e.jsx(g,{variant:"h4",children:"Return Order Raw Product"}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between"}})]}),e.jsx("hr",{}),e.jsx(Ie,{component:Se,style:{marginTop:"20px",overflowX:"auto",padding:"10px"},children:e.jsx(c,{container:!0,spacing:Ye?2:3,children:e.jsx(c,{item:!0,xs:12,sm:6,children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(g,{variant:"h7",style:{marginRight:"10px"},children:"Note"}),e.jsx(S,{label:"Note",variant:"outlined",value:A,onChange:t=>Ut(t.target.value),style:{width:"100%"},size:"small",multiline:!0})]})})})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"20px",flexWrap:"wrap"},children:[e.jsx(g,{variant:"h4",children:"Product"}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"},children:e.jsx(b,{variant:"contained",onClick:Qt,size:"small",children:"Add New"})})]}),e.jsx("hr",{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},children:[e.jsx(g,{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(g,{variant:"h7",style:{marginRight:"10px"}}),e.jsx(S,{label:"Search..",variant:"outlined",value:U,onChange:Ze,style:{width:"150px"},size:"small"})]})]}),e.jsx(oe,{open:dt,onClose:ne,"aria-labelledby":"add-item-modal","aria-describedby":"form-for-adding-or-editing-item",children:e.jsxs(ce,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",width:"80%",boxShadow:24,p:4,maxHeight:"100vh",overflow:"auto"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"Add Product"}),e.jsx("hr",{style:{color:"white"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",flexDirection:"row"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(g,{variant:"h7",style:{marginRight:"20px"}}),e.jsx(S,{label:"Search..",variant:"outlined",value:U,onChange:Ze,style:{width:"150px"},size:"small"})]})]}),e.jsx(Ie,{component:Se,style:{marginTop:"20px"},children:e.jsxs(rt,{size:"small",children:[e.jsx(st,{style:{height:"3em"},children:e.jsxs(D,{children:[e.jsx(a,{children:e.jsx(nt,{style:{marginRight:"-40px"},value:"checkedA",inputProps:{"aria-label":"Checkbox A"},indeterminate:B.length>0&&B.length<w.length,checked:B.length===w.length,onChange:Nt})}),e.jsx(a,{children:e.jsx("b",{children:"Qty Return"})}),e.jsx(a,{children:e.jsx("b",{children:"Qty Receive"})}),e.jsx(a,{children:e.jsx("b",{children:"Reff PO"})}),e.jsx(a,{children:e.jsx("b",{children:"Reff RC"})}),e.jsx(a,{children:e.jsx("b",{children:"Code"})}),e.jsx(a,{children:e.jsx("b",{children:"Material"})}),e.jsx(a,{children:e.jsx("b",{children:"Size"})}),e.jsx(a,{children:e.jsx("b",{children:"Supplier"})}),e.jsx(a,{children:e.jsx("b",{children:"Weight(kg)"})}),e.jsx(a,{children:e.jsx("b",{children:"Price/kg"})})]})}),e.jsx(at,{children:w.slice(ye*se,ye*se+se).map((t,r)=>e.jsxs(D,{children:[e.jsx(a,{children:e.jsx(nt,{checked:B.includes(t.id),onChange:()=>Ot(t.id)})}),e.jsx(a,{children:e.jsx(S,{label:"",variant:"outlined",name:"qtyRtn",value:N[t.id]||"",sx:{width:"100px"},onChange:s=>$t(t.id,s,t.qty_rcv),size:"small",type:"number",inputProps:{step:1,min:0,pattern:"\\d*"}})}),e.jsx(a,{children:t.qty_rcv}),e.jsx(a,{children:t.reff_po}),e.jsx(a,{children:t.recieve_raw_no}),e.jsx(a,{children:t.code}),e.jsx(a,{children:t.material}),e.jsx(a,{children:le(t.size)}),e.jsx(a,{children:t.name}),e.jsxs(a,{children:[H(t.weight)," kg"]}),e.jsx(a,{children:F(t.price)})]},t.id))}),e.jsx(Xt,{children:e.jsx(D,{children:e.jsx(a,{colSpan:11,children:e.jsx(lt,{rowsPerPageOptions:[5,10,25],component:"div",count:Array.isArray(w)?parseInt(w.length):0,rowsPerPage:se,page:ye,onPageChange:It,onRowsPerPageChange:Tt})})})})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(b,{variant:"contained",color:"primary",size:"small",onClick:Ft,children:"Save"}),e.jsx(b,{variant:"contained",color:"secondary",size:"small",onClick:ne,style:{marginLeft:"10px"},children:"Cancel"})]})]})}),e.jsx(oe,{open:ut,onClose:$e,"aria-labelledby":"edit-item-modal","aria-describedby":"form-for-adding-or-editing-item",children:e.jsxs(ce,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,width:Ye?"70%":"auto"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"Edit Item"}),e.jsx("hr",{}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Qty Return"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.qty_rtn,onChange:t=>Lt(t),style:{width:"100%"},size:"small",type:"number",inputProps:{step:1,min:0,pattern:"\\d*"}})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Reff Po"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.reff_rcv?w.find(t=>t.recieve_raw_no===m.reff_rcv).reff_po:"",onChange:t=>y.reff_po(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Reff Rcv"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.reff_rcv,onChange:t=>y.reff_rcv(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Code"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.code,onChange:t=>y.code(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Material"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.material,onChange:t=>y.material(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Size"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:le(m.size),onChange:t=>y.size(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Supplier"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.supplier_id,onChange:t=>y.supplier_id(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Weight (Kg)"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.weight,onChange:t=>y.weight(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsx(q,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-start",style:{display:"flex",placeItems:"center",textAlign:"left"},children:[e.jsx(c,{item:!0,xs:4,children:e.jsx(g,{variant:"h7",children:"Price/Kg"})}),e.jsx(c,{item:!0,xs:8,children:e.jsx(S,{label:"",variant:"outlined",value:m.price,onChange:t=>y.price(t.target.value),style:{width:"100%"},size:"small",disabled:!0})})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(b,{variant:"contained",color:"primary",size:"small",onClick:d?Pt:()=>Et(m.code,m.reff_rcv),children:"Update"}),e.jsx(b,{variant:"contained",color:"secondary",size:"small",onClick:$e,style:{marginLeft:"10px"},children:"Cancel"})]})]})}),e.jsx(oe,{open:ht,onClose:_e,"aria-labelledby":"delete-confirmation-modal","aria-describedby":"confirmation-dialog-for-deleting-item",children:e.jsxs(ce,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:370,bgcolor:"background.paper",boxShadow:24,p:4,textAlign:"center"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"Are you sure you want to delete this item?"}),e.jsx(b,{variant:"contained",color:"primary",size:"small",onClick:L?qt:Dt,children:"Yes"}),e.jsx(b,{variant:"contained",color:"secondary",size:"small",onClick:_e,style:{marginLeft:"10px"},children:"Cancel"})]})}),e.jsx("div",{children:e.jsx(Ie,{component:Se,style:{marginTop:"20px"},children:e.jsxs(rt,{size:"small",children:[e.jsx(st,{style:{height:"3em"},children:e.jsxs(D,{children:[e.jsx(a,{children:e.jsx("b",{children:"No."})}),e.jsx(a,{children:e.jsx("b",{children:"Reff PO"})}),e.jsx(a,{children:e.jsx("b",{children:"Reff RC"})}),e.jsx(a,{children:e.jsx("b",{children:"Code"})}),e.jsx(a,{children:e.jsx("b",{children:"Material"})}),e.jsx(a,{children:e.jsx("b",{children:"Size"})}),e.jsx(a,{children:e.jsx("b",{children:"Supplier"})}),e.jsx(a,{children:e.jsx("b",{children:"Weight(kg)"})}),e.jsx(a,{children:e.jsx("b",{children:"Price/kg"})}),e.jsx(a,{children:e.jsx("b",{children:"Qty"})}),e.jsx(a,{children:e.jsx("b",{children:"Amount"})}),e.jsx(a,{children:e.jsx("b",{children:"Setting"})})]})}),e.jsxs(at,{children:[d?u&&u.length>0?u.filter(t=>t.status!==ae).slice(M*k,M*k+k).map((t,r)=>{const s=M*k+r+1;return t.reff_po=w.find(n=>n.recieve_raw_no===t.reff_rcv||n.code===t.code).reff_po,t.supplier_name=W.find(n=>n.id===t.supplier_id).name,t.amount=t.qty_rtn*t.price*t.weight,e.jsxs(D,{children:[e.jsx(a,{children:s}),e.jsx(a,{children:t.reff_po}),e.jsx(a,{children:t.reff_rcv}),e.jsx(a,{children:t.code}),e.jsx(a,{children:t.material}),e.jsx(a,{children:le(t.size)}),e.jsx(a,{children:t.supplier_name}),e.jsxs(a,{children:[H(t.weight)," kg"]}),e.jsx(a,{children:F(t.price)}),e.jsx(a,{children:t.qty_rtn}),e.jsx(a,{children:F(t.amount)}),e.jsxs(a,{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx(de,{color:"secondary",onClick:()=>kt(t),children:e.jsx(et,{})}),e.jsx(de,{color:"primary",onClick:()=>Ne(t),children:e.jsx(tt,{})})]})]},t.id)}):e.jsx(D,{children:e.jsx(a,{colSpan:13,style:{textAlign:"center"},children:"No data available"})}):h&&h.length>0?h.slice(M*k,M*k+k).map((t,r)=>{const s=M*k+r+1;return t.reff_po=w.find(n=>n.recieve_raw_no==t.reff_rcv).reff_po,t.supplier_name=W.find(n=>n.id===t.supplier_id).name,t.amount=t.qty_rtn*t.price*t.weight,e.jsxs(D,{children:[e.jsx(a,{children:s}),e.jsx(a,{children:t.reff_po}),e.jsx(a,{children:t.reff_rcv}),e.jsx(a,{children:t.code}),e.jsx(a,{children:t.material}),e.jsx(a,{children:le(t.size)}),e.jsx(a,{children:t.supplier_name}),e.jsxs(a,{children:[H(t.weight)," kg"]}),e.jsx(a,{children:F(t.price)}),e.jsx(a,{children:t.qty_rtn}),e.jsx(a,{children:F(t.amount)}),e.jsxs(a,{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx(de,{color:"secondary",onClick:()=>zt(t),children:e.jsx(et,{})}),e.jsx(de,{color:"primary",onClick:()=>Ne(t),children:e.jsx(tt,{})})]})]},r)}):e.jsx(D,{children:e.jsx(a,{colSpan:13,style:{textAlign:"center"},children:"No data available"})}),e.jsxs(D,{children:[e.jsx(a,{colSpan:7,style:{textAlign:"center"},children:"Total"}),e.jsxs(a,{colSpan:3,style:{textAlign:"left",paddingLeft:h?"1.5%":`${2.5}`},children:[H(pt)," kg"]}),e.jsx(a,{colSpan:2,style:{textAlign:"left",paddingLeft:h?"1.5%":`${2.5}`},children:Bt()||0})]})]})]})})}),e.jsx("hr",{}),e.jsx(lt,{rowsPerPageOptions:[5,10,25],component:"div",count:d?Array.isArray(u)?parseInt(u.length):0:Array.isArray(h)?parseInt(h.length):0,rowsPerPage:k,page:M,onPageChange:St,onRowsPerPageChange:Rt}),e.jsx("br",{}),d?e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(b,{variant:"contained",color:"success",size:"small",onClick:Ct,children:"Posting"}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(Xe,{href:"/return-order",children:e.jsx(b,{variant:"contained",color:"secondary",style:{backgroundColor:Ve,color:"white"},onClick:ne,size:"small",children:"Cancel"})}),e.jsx(b,{variant:"contained",color:"primary",style:{backgroundColor:He,color:"white",marginLeft:"10px"},size:"small",onClick:Mt,children:"Update"})]})]}):e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(Xe,{href:"/return-order",children:e.jsx(b,{variant:"contained",color:"secondary",style:{backgroundColor:Ve,color:"white"},onClick:ne,size:"small",children:"Cancel"})}),e.jsx(b,{variant:"contained",color:"primary",style:{backgroundColor:He,color:"white",marginLeft:"10px"},onClick:At,size:"small",children:"Save"})]})]})})};export{Cr as default};
