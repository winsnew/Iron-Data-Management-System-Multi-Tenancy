import{r as s,j as e,I as q}from"./app-623ed0f4.js";import{H as k}from"./Homepage-08511e85.js";import{T as a,P as A,a as E}from"./Box-957a2bf3.js";import{T as r}from"./TextField-5a304923.js";import{T as F,a as L,b as H,c as w,d as W}from"./TableRow-d2f5aa9a.js";import{T as n}from"./TableCell-3fbb70b1.js";import{T as K}from"./TablePagination-9505c5d0.js";import"./axios-28bc18a3.js";import"./IconButton-3addbdd0.js";import"./listItemTextClasses-8727f840.js";import"./MenuItem-d02030d1.js";const te=({buyrawdetail:m,reciveId:l,data:p,returnDetail:x})=>{s.useState([]),s.useState([]),s.useState(!1),s.useState(!1);const[C,_]=s.useState({order_raw_no:"",date:"",supplier_id:"",weight_order_total:"",amount_order_total:"",note:"",status:""});s.useState(null),s.useState(null);const[u,S]=s.useState(""),[h,f]=s.useState(0),[o,P]=s.useState(5);s.useState([]),console.log(l);const T=(t,d)=>{f(d)},I=t=>{P(parseInt(t.target.value,10)),f(0)};s.useEffect(()=>{m.filter(t=>t&&t.order_raw_no?t.order_raw_no.toLowerCase().includes(u.toLowerCase()):!1)},[m,u]),s.useEffect(()=>{},[]);const i=t=>{_({...C,[t.target.name]:t.target.value})},z=t=>{S(t.target.value)};console.log(x);const D=t=>new Date(t).toLocaleDateString("ID-id");function B(t){if(t==="")return"";const g=t.split("x").map(y=>{const c=y.trim();return/^\d*\.?\d*$/.test(c)?parseFloat(c):c}),v=[" "," x "];return g.reduce((y,c,N)=>[y,c].join(v[(N-1)%v.length]))}const j=t=>"Rp "+Number(t).toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),b=t=>""+Number(t).toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),R=[...p,...x];return e.jsxs(k,{children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:e.jsx(a,{variant:"h4",children:"Update Buy"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body1",style:{width:"100px"},children:"Po no."}),e.jsx(r,{label:"",variant:"outlined",name:"poNo",value:l.recieve_raw_no,onChange:i,sx:{width:"400px"},disabled:!0,size:"small"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body1",style:{width:"100px"},children:"Date"}),e.jsx(r,{label:"",variant:"outlined",name:"",value:D(l.updated_at),onChange:i,sx:{width:"400px"},size:"small",disabled:!0})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body1",style:{width:"100px"},children:"Weight"}),e.jsx(r,{label:"",variant:"outlined",name:"poNo",value:b(l.weight_recieve_total)+" kg",onChange:i,sx:{width:"400px"},disabled:!0,size:"small"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body1",style:{width:"100px"},children:"Note"}),e.jsx(r,{label:"",variant:"outlined",name:"note",value:l.note,onChange:i,sx:{width:"400px"},disabled:!0,size:"small"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body1",style:{width:"100px"},children:"Amount"}),e.jsx(r,{label:"",variant:"outlined",name:"",value:j(l.amount_recieve_total),onChange:i,sx:{width:"400px"},disabled:!0,size:"small"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body1",style:{width:"100px"},children:"Warehouse"}),e.jsx(r,{label:"",variant:"outlined",name:"pricePerKg",value:l.name,onChange:i,sx:{width:"400px"},disabled:!0,size:"small"})]})]})]}),e.jsx("hr",{}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:e.jsx(a,{variant:"h4",children:"Produk"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},children:[e.jsx(a,{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"h4"}),e.jsx(r,{label:"Search..",variant:"outlined",value:u,onChange:z,style:{width:"150px"},size:"small"})]})]}),e.jsxs("div",{children:[e.jsx(F,{component:A,style:{marginTop:"20px"},children:e.jsxs(L,{size:"small",children:[e.jsx(H,{children:e.jsxs(w,{children:[e.jsx(n,{children:e.jsx("b",{children:"No"})}),e.jsx(n,{children:e.jsx("b",{children:"No Transaction"})}),e.jsx(n,{children:e.jsx("b",{children:"Material"})}),e.jsx(n,{children:e.jsx("b",{children:"Size"})}),e.jsx(n,{children:e.jsx("b",{children:"Supplier"})}),e.jsxs(n,{children:[e.jsx("b",{children:"Weight (kg"}),")"]}),e.jsx(n,{children:e.jsx("b",{children:"Price/kg"})}),e.jsx(n,{children:e.jsx("b",{children:"Qty"})}),e.jsx(n,{children:e.jsx("b",{children:"Amount"})}),e.jsx(n,{children:e.jsx("b",{children:"Status"})})]})}),e.jsx(W,{children:R.slice(h*o,h*o+o).map((t,d)=>{const g=h*o+d+1;return e.jsxs(w,{children:[e.jsx(n,{children:g}),e.jsx(n,{children:t.recieve_raw_no==null?t.return_raw_no:t.recieve_raw_no}),e.jsx(n,{children:t.materialname==null?t.material:t.materialname}),e.jsx(n,{children:B(t.size)}),e.jsx(n,{children:t.suppliername==null?t.name:t.suppliername}),e.jsx(n,{children:b(t.weight)}),e.jsx(n,{children:j(t.price)}),e.jsx(n,{children:t.qty_rcv==null?t.qty_rtn:t.qty_rcv}),e.jsx(n,{children:j(t.weight*t.price*(t.qty_rtn??t.qty_rcv))}),e.jsx(n,{children:t.qty_rcv==null?t.status==1?"Returned":"Draft":t.status==1?"Received":"Draft"})]},t.id)})})]})}),e.jsx("hr",{}),e.jsx(K,{rowsPerPageOptions:[5,10,25],component:"div",count:(p?p.length:0)+(x?x.length:0),rowsPerPage:o,page:h,onPageChange:T,onRowsPerPageChange:I})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx(q,{href:"/buy",children:e.jsx(E,{size:"small",variant:"contained",color:"error",style:{marginRight:"10px",width:"100px"},children:"Close"})})})]})};export{te as default};
