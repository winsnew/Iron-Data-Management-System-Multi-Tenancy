import{r as n,j as e,I as W}from"./app-623ed0f4.js";import{H as B}from"./Homepage-08511e85.js";import{d as E}from"./Visibility-3806cdff.js";import{T as f,a as N,P as b}from"./Box-957a2bf3.js";import{T as y,a as k,b as F,c as j,d as H}from"./TableRow-d2f5aa9a.js";import{T as M}from"./TextField-5a304923.js";import{M as _}from"./MenuItem-d02030d1.js";import{T as s}from"./TableCell-3fbb70b1.js";import{T as A}from"./TablePagination-9505c5d0.js";import"./axios-28bc18a3.js";import"./IconButton-3addbdd0.js";import"./listItemTextClasses-8727f840.js";const Z=({stock:a,warehouse:g})=>{const[l,P]=n.useState(5),[o,u]=n.useState(0),[d,h]=n.useState([]),[c,S]=n.useState(null),T=(r,t)=>{u(t)},w=r=>{P(parseInt(r.target.value,10)),u(0)};n.useEffect(()=>{h(a)},[a]),n.useEffect(()=>{if(c!==null){const r=a.filter(t=>t.warehouseid===c);h(r)}else h(a)},[c,a]);const v=r=>{S(r.target.value)};function C(r){const x=r.split("x").map(p=>{const i=p.trim();return/^\d*\.?\d*$/.test(i)?parseFloat(i):i}),m=[" "," x "];return x.reduce((p,i,z)=>[p,i].join(m[(z-1)%m.length]))}const I=r=>"Rp "+Number(r).toFixed(0).toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),R=r=>""+Number(r).toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",");return e.jsxs(B,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(f,{variant:"h4",children:"Raw Product Stock"}),e.jsx(N,{variant:"contained",color:"primary",size:"small",href:"/rawproductstockdetail",children:"Export"})]}),e.jsx("hr",{}),e.jsx(y,{component:b,style:{marginTop:"10px",overflowX:"auto",padding:"10px",width:"100%"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"20px",marginBottom:"20px"},children:[e.jsx(f,{variant:"h7",style:{marginRight:"15px"},children:"Warehouse"}),e.jsx(M,{select:!0,label:"Warehouse",id:"warehouse-select",style:{width:"337px"},size:"small",inputProps:{style:{position:"absolute"}},value:c,onChange:v,children:g&&g.map((r,t)=>e.jsx(_,{value:r.id,children:r.name},t))})]})}),e.jsxs("div",{children:[e.jsx(y,{component:b,style:{marginTop:"20px"},children:e.jsxs(k,{size:"small",children:[e.jsx(F,{style:{height:"3em"},children:e.jsxs(j,{children:[e.jsx(s,{children:e.jsx("b",{children:"No."})}),e.jsx(s,{children:e.jsx("b",{children:"Code"})}),e.jsx(s,{children:e.jsx("b",{children:"Material"})}),e.jsx(s,{children:e.jsx("b",{children:"Size"})}),e.jsx(s,{children:e.jsx("b",{children:"Supplier"})}),e.jsx(s,{children:e.jsx("b",{children:"Weight (kg)"})}),e.jsx(s,{children:e.jsx("b",{children:"Price/Kg"})}),e.jsx(s,{children:e.jsx("b",{children:"Qty"})}),e.jsx(s,{children:e.jsx("b",{children:"Update Date"})}),e.jsx(s,{children:e.jsx("b",{children:"Setting"})})]})}),e.jsx(H,{children:d.length>0?d.slice(o*l,o*l+l).map((r,t)=>{const x=o*l+t+1;return console.log(d),e.jsxs(j,{children:[e.jsx(s,{children:x}),e.jsx(s,{children:r.raw_code}),e.jsx(s,{children:r.material}),e.jsx(s,{children:C(r.size)}),e.jsx(s,{children:r.name}),e.jsxs(s,{children:[R(r.weight)," kg"]}),e.jsx(s,{children:I(r.cogs)}),e.jsx(s,{children:r.qty}),e.jsx(s,{children:r.updated_at}),e.jsx(s,{children:e.jsx(W,{href:`/stock-raw-detail/${r.id}`,children:e.jsx(E,{style:{color:"gray"}})})})]},r.id)}):e.jsx(j,{children:e.jsx(s,{align:"center",colSpan:10,children:"No data available"})})})]})}),e.jsx(A,{rowsPerPageOptions:[5,10,25],component:"div",count:d.length,rowsPerPage:l,page:o,onPageChange:T,onRowsPerPageChange:w})]})]})};export{Z as default};
